!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=()=>{const e=document.querySelector(".free-visit"),t=document.getElementById("free_visit_form"),n=document.querySelector('[data-popup="#callback_form"]'),o=document.getElementById("callback_form"),i=document.querySelector(".fixed-gift"),s=document.getElementById("gift"),r=document.getElementById("thanks"),l=document.querySelector(".menu-button"),a=document.querySelector(".popup-menu"),d=document.querySelector(".club-select"),c=document.querySelector(".clubs-list>ul"),p=document.querySelectorAll(".close-form"),h=document.querySelectorAll(".close-btn"),m=document.querySelector("body");e.addEventListener("click",()=>{t.style.display="block"}),n.addEventListener("click",()=>{o.style.display="block"});try{i.addEventListener("click",()=>{s.style.display="block",i.style.display="none"})}catch{}l.addEventListener("click",()=>{a.style.display="flex"}),d.addEventListener("click",()=>{c.style.display?c.style.display="":c.style.display="block"}),p.forEach(e=>{e.addEventListener("click",e=>{"free_visit_form"===e.target.parentNode.parentNode.parentNode.id?t.style.display="none":"callback_form"===e.target.parentNode.parentNode.parentNode.id?o.style.display="none":"thanks"===e.target.parentNode.parentNode.parentNode.id&&(r.style.display="none");try{"gift"===e.target.parentNode.parentNode.parentNode.id&&(s.style.display="none")}catch{}})}),m.addEventListener("click",()=>{if(event.target.classList.contains("overlay")){const e=event.target.parentNode.id;document.getElementById(e).style.display="none"}}),h.forEach(e=>{e.addEventListener("click",e=>{"thanks"===e.target.parentNode.parentNode.parentNode.id&&(r.style.display="none");try{"gift"===e.target.parentNode.parentNode.parentNode.id&&(s.style.display="none")}catch{}})}),a.addEventListener("click",()=>{"IMG"!==event.target.tagName&&"A"!==event.target.tagName||(a.style.display="none")})};var i=()=>{const e=document.getElementById("totop"),t=document.querySelector(".header-main");e.style.transform="translateX(100px)",window.addEventListener("scroll",()=>{pageYOffset>t.offsetHeight?e.style.transform="translateX(0)":e.style.transform="translateX(100px)"}),e.addEventListener("click",()=>{event.preventDefault(),window.scroll({left:0,top:0,behavior:"smooth"})})};var s=()=>{const e=document.querySelector(".top-menu");let t=window.innerWidth;window.addEventListener("resize",()=>{t=window.innerWidth}),window.addEventListener("scroll",()=>{pageYOffset>e.offsetTop&&t<768?e.classList.add("sticky"):e.classList.remove("sticky")})};var r=()=>{const e=document.querySelectorAll(".main-slider>div");let t=0;setInterval(()=>{e[t].style.display="none",t++,t>=e.length&&(t=0),e[t].style.display=""},3e3)};var l=class{constructor({main:e,wrap:t,next:n,prev:o,infinity:i=!1,position:s=0,slidesToShow:r=6,responsive:l=[]}){try{this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(n),this.prev=document.querySelector(o),this.slidesToShow=r,this.options={position:s,infinity:i,widthSlide:Math.floor(100/this.slidesToShow)},this.responsive=l}catch{console.warn("Необходимо передать свойства!")}}init(){try{this.addClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}catch{console.warn("Инициализация не выполнена! См. ошибку выше!")}}addClass(){this.main.classList.add("diploma-slider"),this.wrap.classList.add("diploma-slider__wrap");for(const e of this.slides)e.classList.add("diploma-slider__item")}addStyle(){let e=document.getElementById("sliderCarousel-style");e||(e=document.createElement("style"),e.id="sliderCarousel-style"),e.textContent=`\n            .diploma-slider {\n                overflow: hidden;\n                position: relative;\n                padding: 0;\n            }\n            .diploma-slider__wrap {\n                display: flex;\n                transition: transform 0.5s;\n                will-change: transform;\n            }\n            .diploma-slider__item {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                flex: 0 0 ${this.options.widthSlide}%;\n                margin-top: 0;\n            }\n        `,document.head.appendChild(e)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="diploma-slider__prev",this.next.className="diploma-slider__next",this.prev.textContent="<",this.next.textContent=">",this.main.appendChild(this.prev),this.main.appendChild(this.next);const e=document.createElement("style");e.textContent="\n            .diploma-slider__prev, .diploma-slider__next {\n                width: 36px;\n                height: 37px;\n                border: none;\n                background-color: #f4c71b;\n                border-radius: 50%;\n                position: absolute;\n                top: 45%;\n                transform: translate(50%, -50%);\n                font-size: 16px;\n                font-weight: 700;\n                padding-top: 4px;\n                filter: drop-shadow(5px 4px 6px black);\n                transition: all .4s;\n                cursor: pointer;\n            }\n            .diploma-slider__prev:hover, \n            .diploma-slider__next:hover {\n                filter: none;\n            }\n            .diploma-slider__prev {\n                left: 8px;\n            }\n            .diploma-slider__next {\n                right: 43px;\n            }\n        ",document.head.appendChild(e)}responseInit(){const e=this.slidesToShow,t=this.responsive.map(e=>e.breakpoint),n=Math.max(...t),o=()=>{const o=document.documentElement.clientWidth;if(o<n)for(let e=0;e<t.length;e++)o<t[e]&&(this.slidesToShow=this.responsive[e].slidesToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=e,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};o(),window.addEventListener("resize",o)}};var a=()=>{const e=document.querySelectorAll(".gallery-slider>div"),t=document.querySelector(".gallery-slider"),n=document.createElement("button"),o=document.createElement("button"),i=document.createElement("ul");n.className="gallery-btn prev",o.className="gallery-btn next",n.id="arrow-left",o.id="arrow-right",i.className="slider-dots",n.textContent="<",o.textContent=">",t.appendChild(n),t.appendChild(o),t.appendChild(i);const s=document.createElement("style");s.id="gallery-style",s.textContent="\n            .gallery-slider {\n                position: relative;\n            }\n            .gallery-btn {\n                width: 36px;\n                height: 37px;\n                border: none;\n                background-color: #f4c71b;\n                border-radius: 50%;\n                position: absolute;\n                top: 50% ;\n                transform: translate(50% , -50%);\n                font-size: 16px;\n                font-weight: 700;\n                padding-top: 4px;\n                filter: drop-shadow(5px 4px 6px black);\n                transition: all .4s;\n                cursor: pointer;\n            }\n            .prev: hover,\n            .next: hover {\n                filter: none;\n            }\n            .prev {\n                left: 15px;\n            }\n            .next {\n                right: 52px;\n            }\n        ",document.head.appendChild(s);const r=()=>{const t=document.querySelectorAll(".slider-dots-slick"),n=document.querySelector(".gallery-slider");t[0].classList.add("slick-active");let o,i=0;const s=(e,t,n)=>{e[t].classList.remove(n)},r=(e,t,n)=>{e[t].classList.add(n)},l=()=>{s(e,i,"gallery-slider-active"),s(t,i,"slick-active"),i++,i>=e.length&&(i=0),r(e,i,"gallery-slider-active"),r(t,i,"slick-active")},a=(e=3e3)=>{o=setInterval(l,e)};n.addEventListener("click",n=>{n.preventDefault();const o=n.target;o.matches(".gallery-btn, .slider-dots-slick")&&(s(e,i,"gallery-slider-active"),s(t,i,"slick-active"),o.matches("#arrow-right")?i++:o.matches("#arrow-left")?i--:o.matches(".slider-dots-slick")&&t.forEach((e,t)=>{e===o&&(i=t)}),i>=e.length&&(i=0),i<0&&(i=e.length-1),r(e,i,"gallery-slider-active"),r(t,i,"slick-active"))}),n.addEventListener("mouseover",e=>{(e.target.matches(".gallery-btn")||e.target.matches(".slider-dots-slick"))&&clearInterval(o)}),n.addEventListener("mouseout",e=>{(e.target.matches(".gallery-btn")||e.target.matches(".slider-dots-slick"))&&a()}),a(2e3)};e.forEach(()=>{const e=document.createElement("li");i.append(e),e.classList.add("slider-dots-slick")}),r()};var d=()=>{try{const e=document.getElementById("card_order"),t=document.getElementById("price-total"),n=document.getElementsByName("club-promo"),o={mozaika:{1:1999,6:9900,9:13900,12:19900},schelkovo:{1:2999,6:14990,9:21990,12:24990}},i={month:1,clubName:"mozaika"},s=(e=i.month,n=i.clubName)=>{t.innerText=o[n][e]};s();const r=()=>{"ТЕЛО2019"===n[0].value?t.innerText=+t.innerText-Math.floor(.3*t.innerText):s()};e.addEventListener("click",()=>{"card-type"===event.target.name?(i.month=event.target.value,s(i.month,i.clubName),r()):"club-name"===event.target.name&&(i.clubName=event.target.value,s(i.month,i.clubName),r())}),n[0].addEventListener("input",r)}catch{}};var c=()=>{((e,t="+7 (___) ___-__-__")=>{const n=document.querySelectorAll(e);function o(e){const n=e.keyCode,o=t,i=o.replace(/\D/g,""),s=this.value.replace(/\D/g,"");let r=0,l=o.replace(/[_\d]/g,e=>r<s.length?s.charAt(r++)||i.charAt(r):e);r=l.indexOf("_"),-1!==r&&(l=l.slice(0,r));let a=o.substr(0,this.value.length).replace(/_+/g,e=>"\\d{1,"+e.length+"}").replace(/[+()]/g,"\\$&");a=new RegExp("^"+a+"$"),(!a.test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=l),"blur"===e.type&&this.value.length<5&&(this.value="")}for(const e of n)e.addEventListener("input",o),e.addEventListener("focus",o),e.addEventListener("blur",o)})(".form-phone","+7 (___) ___-__-__");(()=>{const e=document.getElementsByName("name"),t=/[^а-яА-Я\s]+/;e.forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(t,"")})})})()};var p=()=>{const e=document.querySelectorAll("form"),t=document.getElementById("status-text"),n=document.getElementById("free_visit_form"),o=document.getElementById("callback_form"),i=document.getElementById("thanks");let s=0;const r=t.innerHTML,l=document.createElement("div");l.style.cssText="font-size: 1rem; color: red; margin-top: 1rem;";const a=e=>{const l=new FormData(e),a={};if(l.forEach((e,t)=>{a[t]=e}),a.phone.length<18)e.elements.phone.style.border="solid red",e.elements.phone.value="",e.elements.phone.placeholder="Введите корректный номер телефона";else if(a.name&&""===a.name)e.elements.name.style.border="solid red",e.elements.name.placeholder="Введите Ваше имя";else{e.elements.phone.style.border="",e.elements.phone.placeholder="Ваш номер телефона...";try{e.elements.name.style.border="",e.elements.name.placeholder="Ваше имя..."}catch{}i.style.display="block",t.innerHTML="Данные отправляются...",(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(a).then(i=>{if(200!==i.status)throw new Error("Status network not 200");t.innerHTML=r,e.reset(),n.style.display="none",o.style.display="none",d("1","mozaika")}).catch(e=>{t.innerHTML="Что-то пошло не так...",console.error(e)}).finally(()=>{setTimeout(()=>{i.style.display="none"},5e3),s=0})}};e.forEach(e=>{e.addEventListener("submit",t=>{t.preventDefault();for(const t of e)"checkbox"===t.type&&"footer_form"!==t.form.id?t.checked?(l.textContent="",a(e)):(e.appendChild(l),l.textContent="Вам необходимо подтвердить согласие"):"footer_form"===t.form.id&&0===s&&(s++,a(e))})})};o(),i(),s(),r(),a();new l({main:"#services>div",wrap:".services-slider",slidesToShow:5,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:576,slidesToShow:1}]}).init(),d(),c(),p()}]);